{"title":"跨域","date":"2019-02-18T00:13:01.000Z","slug":"跨域","comments":true,"updated":"2019-02-25T12:40:15.454Z","content":"<h1 id=\"三种方法：\">三种方法：<a href=\"post/跨域#三种方法：\"></a></h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cls </span><br><span class=\"line\">(&quot;Access-Control-Allow-Origin&quot;:&quot;*&quot;）允许所有跨域访问，所以跨域访问成功。</span><br><span class=\"line\">无论访问是文档，还是js文件都可以实现跨域</span><br><span class=\"line\">具体文档可参考：https://github.com/annwvn/ky/tree/master/cls</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jsonp</span><br><span class=\"line\">jsonp原理 ： 动态添加&lt;script&gt;标签来调用服务器提供的js脚本</span><br><span class=\"line\"></span><br><span class=\"line\">---jsonp 与 ajax 有什么区别 ---</span><br><span class=\"line\"></span><br><span class=\"line\">ajax的核心是 ： 通过XmlHttpRequest获取非本页内容，</span><br><span class=\"line\">jsonp的核心 ： 动态添加&lt;script&gt;标签</span><br><span class=\"line\"></span><br><span class=\"line\">---为什么只能用get请求---</span><br><span class=\"line\">·动态的创建了一个全局方法，</span><br><span class=\"line\">·并且动态生成script标签，将script标签的src属性变为（接口地址?callback=动态生成方法的方法名）请求数据</span><br><span class=\"line\">·后台返回来的是一串数据用callback接收，返给浏览器，这样生成了假象的ajax，因此只能get</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">具体文档可参考：https://github.com/annwvn/ky/tree/master/jsonp</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">降域 （cookie 和 ifrema）主域必须相同</span><br><span class=\"line\">具体参考 ： https://github.com/annwvn/ky/tree/master/acom</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--为什么[会]跨域</span><br><span class=\"line\">∵ 不同服务器之间访问时，会出现跨域。</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---为什么[要]跨域，</span><br><span class=\"line\">∵ 同源策略</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">----为什么有同源策略</span><br><span class=\"line\">∵ 为了保护数据，防止黑客入侵，浏览器的保护机制。</span><br></pre></td></tr></table></figure>\n<h2 id=\"最后补充小知识时间到了\">最后补充小知识时间到了<a href=\"post/跨域#最后补充小知识时间到了\"></a></h2><h3 id=\"JavaScript实现异步编程的方法\">JavaScript实现异步编程的方法<a href=\"post/跨域#JavaScript实现异步编程的方法\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">回调函数</span><br><span class=\"line\"></span><br><span class=\"line\">事件监听</span><br><span class=\"line\"></span><br><span class=\"line\">发布/订阅</span><br><span class=\"line\"></span><br><span class=\"line\">Promises对象</span><br><span class=\"line\"></span><br><span class=\"line\">Async函数</span><br></pre></td></tr></table></figure>\n","prev":{"title":"vue双向绑定","slug":"about"},"next":{"title":"安雯","slug":"hello-world"},"link":"https://annwvn.github.io/yangliu.github.io/post/跨域/","toc":[{"title":"三种方法：","id":"三种方法：","index":"1","children":[{"title":"最后补充小知识时间到了","id":"最后补充小知识时间到了","index":"1.1","children":[{"title":"JavaScript实现异步编程的方法","id":"JavaScript实现异步编程的方法","index":"1.1.1"}]}]}]}