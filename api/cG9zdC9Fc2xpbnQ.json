{"title":"Eslint","date":"2018-03-22T00:13:01.000Z","slug":"Eslint","comments":true,"updated":"2019-03-22T01:29:05.761Z","content":"<h3 id=\"ESLint的规则有三种级别\">ESLint的规则有三种级别<a href=\"post/Eslint#ESLint的规则有三种级别\"></a></h3><blockquote>\n<p>“off”或者0，不启用这个规则</p>\n</blockquote>\n<blockquote>\n<p>“warn”或者1，出现问题会有警告</p>\n</blockquote>\n<blockquote>\n<p>“error”或者2，出现问题会报错</p>\n</blockquote>\n<h3 id=\"给项目配置eslintrc-js\">给项目配置eslintrc.js<a href=\"post/Eslint#给项目配置eslintrc-js\"></a></h3><p>首先查看项目中是否有 .eslintrc.js文件，如果没有就自己新建一个 .eslintrc.js文件，如果有，那么只需要修改即可，所有的代码大概如下<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://eslint.org/docs/user-guide/configuring</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//此项是用来告诉eslint找当前配置文件不能往父级查找</span></span><br><span class=\"line\">  root: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//此项是用来指定eslint解析器的，解析器必须符合规则，babel-eslint解析器是对babel解析器的包装使其与ESLint解析</span></span><br><span class=\"line\">  parser: <span class=\"string\">'babel-eslint'</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//此项是用来指定javaScript语言类型和风格，sourceType用来指定js导入的方式，默认是script，此处设置为module，指某块导入方式</span></span><br><span class=\"line\">  parserOptions: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 设置 script(默认) 或 module，如果代码是在ECMASCRIPT中的模块</span></span><br><span class=\"line\">    sourceType: <span class=\"string\">'module'</span>,</span><br><span class=\"line\">    <span class=\"string\">\"ecmaVersion\"</span>: <span class=\"number\">6</span>,</span><br><span class=\"line\">    <span class=\"string\">\"ecmaFeatures\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">\"jsx\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 此项指定环境的全局变量，下面的配置指定为浏览器环境</span></span><br><span class=\"line\">  env: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"browser\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"node\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"commonjs\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"es6\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"amd\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// https://github.com/standard/standard/blob/master/docs/RULES-en.md</span></span><br><span class=\"line\">  <span class=\"comment\">// 此项是用来配置标准的js风格，就是说写代码的时候要规范的写，如果你使用vs-code我觉得应该可以避免出错</span></span><br><span class=\"line\">  extends: <span class=\"string\">'vue'</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 此项是用来提供插件的，插件名称省略了eslint-plugin-，下面这个配置是用来规范html的</span></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"string\">'html'</span>,</span><br><span class=\"line\">    <span class=\"string\">\"flow-vars\"</span>, </span><br><span class=\"line\">    <span class=\"string\">\"react\"</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\">   下面这些rules是用来设置从插件来的规范代码的规则，使用必须去掉前缀eslint-plugin-</span></span><br><span class=\"line\"><span class=\"comment\">    主要有如下的设置规则，可以设置字符串也可以设置数字，两者效果一致</span></span><br><span class=\"line\"><span class=\"comment\">    \"off\" -&gt; 0 关闭规则</span></span><br><span class=\"line\"><span class=\"comment\">    \"warn\" -&gt; 1 开启警告规则</span></span><br><span class=\"line\"><span class=\"comment\">    \"error\" -&gt; 2 开启错误规则</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  rules: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 不需要</span></span><br><span class=\"line\">    <span class=\"string\">\"space-before-function-paren\"</span>: <span class=\"number\">0</span>,  <span class=\"comment\">// 函数定义时括号前面要不要有空格</span></span><br><span class=\"line\">    <span class=\"string\">\"eol-last\"</span>: <span class=\"number\">0</span>,  <span class=\"comment\">// 文件以单一的换行符结束</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 警告</span></span><br><span class=\"line\">    <span class=\"string\">\"no-extra-boolean-cast\"</span>: <span class=\"number\">1</span>, <span class=\"comment\">// 不必要的bool转换</span></span><br><span class=\"line\">    <span class=\"string\">\"no-extra-parens\"</span>: <span class=\"number\">1</span>, <span class=\"comment\">// 非必要的括号</span></span><br><span class=\"line\">    <span class=\"comment\">// vue</span></span><br><span class=\"line\">    <span class=\"string\">\"flow-vars/define-flow-type\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"string\">\"flow-vars/use-flow-type\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// react</span></span><br><span class=\"line\">    <span class=\"string\">\"react/jsx-uses-react\"</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"string\">\"react/jsx-uses-vars\"</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 错误</span></span><br><span class=\"line\">    <span class=\"string\">\"comma-dangle\"</span>: [<span class=\"number\">2</span>, <span class=\"string\">\"never\"</span>], <span class=\"comment\">// 对象字面量项尾不能有逗号</span></span><br><span class=\"line\">    <span class=\"string\">\"no-debugger\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 禁止使用debugger</span></span><br><span class=\"line\">    <span class=\"string\">\"no-constant-condition\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 禁止在条件中使用常量表达式 if(true) if(1)</span></span><br><span class=\"line\">    <span class=\"string\">\"no-dupe-args\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 函数参数不能重复</span></span><br><span class=\"line\">    <span class=\"string\">\"no-dupe-keys\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 在创建对象字面量时不允许键重复 &#123;a:1,a:1&#125;</span></span><br><span class=\"line\">    <span class=\"string\">\"no-duplicate-case\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// switch中的case标签不能重复</span></span><br><span class=\"line\">    <span class=\"string\">\"no-empty-character-class\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 正则表达式中的[]内容不能为空</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 代码风格</span></span><br><span class=\"line\">    <span class=\"string\">\"no-else-return\"</span>: <span class=\"number\">1</span>, <span class=\"comment\">// 如果if语句里面有return,后面不能跟else语句</span></span><br><span class=\"line\">    <span class=\"string\">\"no-multi-spaces\"</span>: <span class=\"number\">1</span>, <span class=\"comment\">// 不能用多余的空格</span></span><br><span class=\"line\">    <span class=\"string\">\"key-spacing\"</span>: [<span class=\"number\">1</span>, &#123;  <span class=\"comment\">// 对象字面量中冒号的前后空格</span></span><br><span class=\"line\">      <span class=\"string\">\"beforeColon\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"string\">\"afterColon\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;],</span><br><span class=\"line\">    <span class=\"string\">\"block-scoped-var\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 块语句中使用var</span></span><br><span class=\"line\">    <span class=\"string\">\"consistent-return\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// return 后面是否允许省略</span></span><br><span class=\"line\">    <span class=\"string\">\"accessor-pairs\"</span>: <span class=\"number\">2</span>, <span class=\"comment\">// 在对象中使用getter/setter</span></span><br><span class=\"line\">    <span class=\"string\">\"dot-location\"</span>: [<span class=\"number\">2</span>, <span class=\"string\">\"property\"</span>], <span class=\"comment\">// 对象访问符的位置，换行的时候在行首还是行尾</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"也可以直接在-package-json-中devDependencies添加如下依赖于包-注意-eslint-plugin-html不要选择默认版本，他们都老了，该退休了，一定要选择3-0-0；-如：-“eslint-plugin-html”-“-3-0-0”\">也可以直接在 package.json 中devDependencies添加如下依赖于包,注意 eslint-plugin-html不要选择默认版本，他们都老了，该退休了，一定要选择3.0.0； 如： “eslint-plugin-html”: “^3.0.0”<a href=\"post/Eslint#也可以直接在-package-json-中devDependencies添加如下依赖于包-注意-eslint-plugin-html不要选择默认版本，他们都老了，该退休了，一定要选择3-0-0；-如：-“eslint-plugin-html”-“-3-0-0”\"></a></h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"babel-eslint\"</span>: <span class=\"string\">\"^7.1.1\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint\"</span>: <span class=\"string\">\"^3.19.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-config-standard\"</span>: <span class=\"string\">\"^10.2.1\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-friendly-formatter\"</span>: <span class=\"string\">\"^3.0.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-loader\"</span>: <span class=\"string\">\"^1.7.1\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-html\"</span>: <span class=\"string\">\"^3.0.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-import\"</span>: <span class=\"string\">\"^2.7.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-node\"</span>: <span class=\"string\">\"^5.2.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-promise\"</span>: <span class=\"string\">\"^3.4.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-standard\"</span>: <span class=\"string\">\"^3.0.1\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-flow-vars\"</span>: <span class=\"string\">\"^0.5.0\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-react\"</span>: <span class=\"string\">\"^7.5.1\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-config-vue\"</span>: <span class=\"string\">\"^2.0.2\"</span>,</span><br><span class=\"line\"><span class=\"string\">\"eslint-plugin-vue\"</span>: <span class=\"string\">\"^2.1.0\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"提供一个网址可参考\">提供一个网址可参考<a href=\"post/Eslint#提供一个网址可参考\"></a></h3><blockquote>\n<p><a href=\"https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md\" target=\"_blank\" rel=\"noopener\">https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md</a></p>\n</blockquote>\n","prev":{"title":"Generator(生成器) 异步编程解决方案","slug":"Generator"},"next":{"title":"vue双向绑定","slug":"Vue"},"link":"https://annwvn.github.io/yangliu.github.io/post/Eslint/"}